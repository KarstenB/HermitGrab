provides:
  - fish

# Fish only works on UNIX-like systems
requires:
  - os_family=unix

files:
  - source: config.fish
    target: ~/.config/fish/config.fish
  # Ripgrep aliases
  - source: functions/egrep.fish
    target: ~/.config/fish/functions/egrep.fish
    requires:
      - ripgrep
  - source: functions/fgrep.fish
    target: ~/.config/fish/functions/fgrep.fish
    requires:
      - ripgrep
  - source: functions/grep.fish
    target: ~/.config/fish/functions/grep.fish
    requires:
      - ripgrep
  # Eza aliases
  - source: functions/la.fish
    target: ~/.config/fish/functions/la.fish
    requires:
      - eza
  - source: functions/ll.fish
    target: ~/.config/fish/functions/ll.fish
    requires:
      - eza
  - source: functions/ls.fish
    target: ~/.config/fish/functions/ls.fish
    requires:
      - eza
  # Bat aliases
  - source: functions/cat.fish
    target: ~/.config/fish/functions/cat.fish
    requires:
      - bat

install:
  - name: fish
    check_cmd: command -v fish
    source: ubi
    variables:
      exe: fish
      url: https://github.com/fish-shell/fish-shell/releases/download/4.0.2/fish-static-aarch64-4.0.2.tar.xz
    requires:
      - os=linux
      - arch=aarch64
  - name: fish
    check_cmd: command -v fish
    source: ubi
    variables:
      exe: fish
      url: https://github.com/fish-shell/fish-shell/releases/download/4.0.2/fish-static-amd64-4.0.2.tar.xz
    requires:
      - os=linux
      - arch=x86_64
  - name: fish
    check_cmd: command -v fish
    source: brew
    requires:
      - os=macos